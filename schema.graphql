"============================================================ MARKET ===========================================================" 
type IdeaMarket @entity {
  "<market id>"
  id: ID!
  marketID: Int!
  name: String!
  baseCost: BigInt!
  priceRise: BigInt!
  tradingFeeRate: BigInt!
  platformFeeRate: BigInt!
  platformFeeWithdrawer: Bytes!
  platformFeeInvested: BigInt!
  tokens: [IdeaToken!]! @derivedFrom(field: "market")
}

"============================================================ TOKEN ============================================================" 

type IdeaTokenPricePoint @entity {
  "<token address>-<block>-<txindex>"
  id: ID!
  token: IdeaToken!
  timestamp: BigInt!
  block: BigInt!
  txindex: BigInt!
  oldPrice: BigDecimal!
  price: BigDecimal!
}

type IdeaTokenVolumePoint @entity {
  "<token address>-<block>-<txindex>"
  id: ID!
  token: IdeaToken!
  timestamp: BigInt!
  block: BigInt!
  txindex: BigInt!
  volume: BigDecimal!
}

type IdeaTokenBalance @entity {
  "<account address>-<token address>"
  id: ID!
  amount: BigInt!
  token: IdeaToken!
}

type IdeaTokenAllowance @entity {
  "<owner address>-<spender address>-<token address>"
  id: ID!
  amount: BigInt!
  token: IdeaToken!
}

type IdeaToken @entity {
  "<token address>"
  id: ID!
  tokenID: Int!
  market: IdeaMarket!
  name: String!
  supply: BigInt!
  holders: Int!
  marketCap: BigInt!
  owner: Bytes!
  interestWithdrawer: Bytes!
  daiInToken: BigInt!
  invested: BigInt!
  dayChange: BigDecimal!
  dayVolume: BigDecimal!
  balances: [IdeaTokenBalance!]! @derivedFrom(field: "token")
  allowances: [IdeaTokenAllowance!]! @derivedFrom(field: "token")
  latestPricePoint: IdeaTokenPricePoint!
  dayPricePoints: [IdeaTokenPricePoint!]!
  pricePoints: [IdeaTokenPricePoint!]! @derivedFrom(field: "token")
  dayVolumePoints: [IdeaTokenVolumePoint!]!
}

"============================================================ FACTORY ==========================================================" 
type IdeaTokenFactory @entity {
  "id: factory"
  id: ID!
  owner: Bytes!
  allTokens: [IdeaToken!]!
}

"============================================================ EXCHANGE =========================================================" 
type IdeaTokenExchange @entity {
  "id: exchange"
  id: ID!
  owner: Bytes!
  tradingFeeInvested: BigInt!
}